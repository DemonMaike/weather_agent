# Weather Agent üå§Ô∏è

LLM-–∞–≥–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞.

---

## ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåç –ü–æ–∏—Å–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞ (–≥–µ–æ–∫–æ–¥–∏–Ω–≥ —á–µ—Ä–µ–∑ Nominatim)
- üå§Ô∏è –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã (—á–µ—Ä–µ–∑ Open-Meteo)
- üß† LLM-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –±–∞–∑–µ Gemini
- üîÑ CLI –∏ UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LangChain React Agent
- ‚öôÔ∏è MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Claude Desktop –∏ Cursor AI

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/your-user/weather-agent.git
cd weather-agent
pip install -r requirements.txt
```

### üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ CLI –∏ UI
GOOGLE_API_KEY=your_gemini_api_key
```

–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –µ—ë –≤ `.env` –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

### üñ•Ô∏è –ó–∞–ø—É—Å–∫

#### CLI

```bash
python cli_run.py
```

#### GUI

```bash
python gui_run.py
```

#### MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MCP –∫–ª–∏–µ–Ω—Ç–æ–≤ (Claude Desktop, Cursor AI) –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç:

```bash
python generate_mcp_config.py
```

–û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å —É—á—ë—Ç–æ–º –≤–∞—à–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –ø—É—Ç–µ–π –∫ Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—É –∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º—É —Å–∫—Ä–∏–ø—Ç—É, –∞ —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ MCP –∫–ª–∏–µ–Ω—Ç–∞.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç, —Å–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º ‚Äî –∏ –ø–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –∫ MCP –∫–ª–∏–µ–Ω—Ç—É.

---

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
weather-agent/
‚îú‚îÄ‚îÄ run_cli.py               # –ó–∞–ø—É—Å–∫ CLI-–∞–≥–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ run_ui.py                # –ó–∞–ø—É—Å–∫ UI (React Agent)
‚îú‚îÄ‚îÄ generate_mcp_config.py   # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è MCP –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ .env                     # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ agent/
        ‚îú‚îÄ‚îÄ react_agent.py   # UI-–∞–≥–µ–Ω—Ç
        ‚îî‚îÄ‚îÄ tools/
            ‚îú‚îÄ‚îÄ __init__.py
            ‚îú‚îÄ‚îÄ mcp.py       # MCP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            ‚îú‚îÄ‚îÄ weather.py   # Open-Meteo API
            ‚îî‚îÄ‚îÄ geo.py       # –ì–µ–æ–∫–æ–¥–∏–Ω–≥ —á–µ—Ä–µ–∑ Nominatim
    ‚îî‚îÄ‚îÄ weather_mcp/
        ‚îú‚îÄ‚îÄ server.py        # MCP —Å–µ—Ä–≤–µ—Ä
        ‚îú‚îÄ‚îÄ tools/           # MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
        ‚îî‚îÄ‚îÄ schemas.py       # –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
    ‚îî‚îÄ‚îÄ ui/
        ‚îú‚îÄ‚îÄ gradio_app.py    # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        ‚îî‚îÄ‚îÄ run_ui.py        # –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    ‚îî‚îÄ‚îÄ utils/
        ‚îî‚îÄ‚îÄ config.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
```

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- LangChain
- langchain-community
- openmeteo-requests
- httpx
- python-dotenv
- gradio (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è UI)

---

## üß™ –ü—Ä–∏–º–µ—Ä CLI

```
üó£Ô∏è –ù–∞—á–∏–Ω–∞–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç...

üßë –í—ã: –ü—Ä–∏–≤–µ—Ç, –ø–æ–¥—Å–∫–∞–∂–µ—à—å –ø–æ–≥–æ–¥—É –≤ –¢–±–∏–ª–∏—Å–∏?
ü§ñ –ê–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å...
üí≠ –û–±—Ä–∞–±–æ—Ç–∫–∞: –ü—Ä–∏–≤–µ—Ç, –ø–æ–¥—Å–∫–∞–∂–µ—à—å –ø–æ–≥–æ–¥—É –≤ –¢–±–∏–ª–∏—Å–∏?    

ü§ñ –ê–≥–µ–Ω—Ç: –ö–æ–Ω–µ—á–Ω–æ, —Å–∫–∞–∂–∏—Ç–µ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –≤–∞–º –Ω—É–∂–µ–Ω –ø—Ä–æ–≥–Ω–æ–∑?

üßë –í—ã: –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å –Ω–æ –Ω–∞ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ 
ü§ñ –ê–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å...
üí≠ –û–±—Ä–∞–±–æ—Ç–∫–∞: –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å –Ω–æ –Ω–∞ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞

ü§ñ –ê–≥–µ–Ω—Ç: –ü—Ä–æ—Å—Ç–∏—Ç–µ, —è –Ω–µ –º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 
–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å, —è –º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 1-7 –¥–Ω
–µ–π, –Ω–∞—á–∏–Ω–∞—è —Å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è. –•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π –¥–µ–Ω—å?

üßë –í—ã: –¥–∞–≤–∞–π –Ω–∞ 3 –¥–Ω—è
ü§ñ –ê–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å...
üí≠ –û–±—Ä–∞–±–æ—Ç–∫–∞: –¥–∞–≤–∞–π –Ω–∞ 3 –¥–Ω—è

ü§ñ –ê–≥–µ–Ω—Ç: –í–æ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –≤ –¢–±–∏–ª–∏—Å–∏ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 3 –¥–Ω—è:

–°–µ–≥–æ–¥–Ω—è: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç 24.1¬∞C –¥–æ 33.8¬∞C, –±–µ–∑ –æ—Å–∞–¥–∫–æ–≤, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ 14.0 –∫–º/—á.
–ó–∞–≤—Ç—Ä–∞: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç 23.7¬∞C –¥–æ 35.7¬∞C, –±–µ–∑ –æ—Å–∞–¥–∫–æ–≤, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ 11.7 –∫–º/—á.
–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç 24.4¬∞C –¥–æ 34.8¬∞C, –æ—Å–∞–¥–∫–∏ 0.1 –º–º, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ 9.4 –∫–º/—á.

```

## –ó–∞–¥–∞—á–∏
- [ ] **–ë–∞–≥** react_agent.py –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ clear(üêõ –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏: 'InMemorySaver' object has no attribute 'adelete_state')
- [ ] –ü–æ–ø—Ä–∞–≤–∏—Ç—å\–¥–æ–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
-  [ ] Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
